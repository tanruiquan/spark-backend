(this.webpackJsonpspark=this.webpackJsonpspark||[]).push([[0],{16:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(26),c=n(19),a=n(15),i=n(45),o=n(46),l=(n(16),n(7)),u=n(6),j=n(4),d=n(22),b=n(29),h=n(18),O=function(){return JSON.parse(localStorage.getItem("favs"))||[]},m={shuffle:function(e){var t,n,s;for(s=e.length-1;s>0;s--)t=Math.floor(Math.random()*(s+1)),n=e[s],e[s]=e[t],e[t]=n;return e},writeToFavs:function(e){var t=O();console.log("readed: "+t),console.log(typeof t),console.log(typeof t[0]),t.push(e),localStorage.setItem("favs",JSON.stringify(t))},toggleFromFavs:function(e){var t=O(),n=t.findIndex((function(t){return t.id===e.id}));-1===n?t.push(e):t.splice(n,1),localStorage.setItem("favs",JSON.stringify(t))},isInFavs:function(e){var t=O();return console.log(t.findIndex((function(t){return t.id===e.id}))),-1!=t.findIndex((function(t){return t.id===e.id}))},readFavsFromStorage:O},x=n(0),p=function(e){var t=e.data,n=e.isFavoritible,r=void 0===n||n,c=e.color,a=void 0===c?"cyan":c,i=e.displayToast,o=Object(s.useState)(!1),u=Object(l.a)(o,2),j=u[0],O=u[1],p=Object(s.useState)(b.a),f=Object(l.a)(p,2),g=f[0],v=f[1],_=function(e){e.preventDefault(),m.toggleFromFavs(t),i(j?"Removed from favourites":"Added to favourites"),O(!j)},y=function(){navigator.share&&navigator.share({title:"SPARK Meaningful Conversations",text:t.question}).catch((function(e){return console.log("Error sharing",e)}))};Object(s.useEffect)((function(){console.log("is in Favs: "+t.question+" "+m.isInFavs(t)),O(m.isInFavs(t))}),[]),Object(s.useEffect)((function(){v(j?h.c:b.a)}),[j]);return Object(x.jsx)("div",{className:"game__question-card--content-container",children:0===Object.keys(t).length?null:Object(x.jsxs)("div",{className:"game__question-card game__question-card--".concat(a),children:[Object(x.jsxs)("p",{className:"game__question-card--title",children:[" ",t.question," "]}),r?Object(x.jsxs)("div",{className:"game__question-card--icons-container",children:[Object(x.jsx)(d.a,{icon:g,className:"game__question-card--icon",size:"3x",onClick:_,onTouchEnd:_,title:j?"Remove from favourites":"Add to favourites"}),Object(x.jsx)(d.a,{icon:h.b,className:"game__question-card--icon",size:"3x",onClick:y,onTouchEnd:y,title:"Share"})]}):Object(x.jsx)("p",{children:" "})]})})},f=n(33),g=function(e){var t=e.questions,n=e.isFavoritible,r=e.displayToast,c=Object(s.useState)([]),a=Object(l.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)(0),j=Object(l.a)(u,2),d=j[0],b=j[1],h=["yellow","magenta","cyan"];Object(s.useEffect)((function(){o(t.slice(0,5)),O()}),[]);var O=function(){b(d+1);var e=d+5>=t.length?t.length:d+5;console.log("index: "+d+" end: "+e),console.log("questions:"+t.slice(d,e)),o(t.slice(d,e))},m={background:"transparent",border:"none",overflow:"visible",height:"auto",maxWidth:"800px"};return Object(x.jsx)(f.b,{className:"game__question-card--container",children:i.map((function(e){return Object(x.jsx)(f.a,{onSwipe:O,style:m,children:Object(x.jsx)(p,{data:e,isFavoritible:n,displayToast:r,color:h[Math.floor(Math.random()*h.length)]})},e.id)}))})},v=n.p+"static/media/Logo_conversations.9105b769.svg",_=function(e){var t=e.action,n=Object(j.f)(),s=void 0===t?function(){n.goBack()}:t;return Object(x.jsxs)("div",{className:"menu__linkbutton--back",onClick:s,children:[Object(x.jsx)(d.a,{icon:h.a})," back"]})},y=function(e){var t="game"===e.mode?"game":"profile";return Object(x.jsxs)("div",{className:"navbar ".concat(t,"__navbar"),children:[Object(x.jsxs)("div",{className:"game__navbar--back",children:[" ",Object(x.jsx)(_,{})," "]}),Object(x.jsx)("img",{src:v,className:"site__sparklogo game__navbar--logo",alt:"SPARK logo"})]})},k=n(5),N=n.n(k),w=n(13),E=n(23),S=n.n(E),q="/api/questions",C={getAllQuestions:function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(q);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllQuestionsFromCategory:function(){var e=Object(w.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(q+"/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F="GET_QUESTION",P="GET_QUESTION_SUCCESS",T="GET_QUESTION_FAILURE",I=function(){return{type:F}},A=function(e){return{type:P,payload:e}},M=function(){return{type:T}};function R(e){return function(){var t=Object(w.a)(N.a.mark((function t(n){var s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(I()),t.prev=1,"favourites"!==e){t.next=9;break}return t.next=5,m.readFavsFromStorage();case 5:s=t.sent,console.log("res is "+s.map((function(e){return e.question}))),t.next=12;break;case 9:return t.next=11,C.getAllQuestionsFromCategory(e);case 11:s=t.sent;case 12:n(A(s)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),n(M());case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}()}var U=Object(a.b)((function(e){return{loading:e.questions.loading,questions:e.questions.questions,hasErrors:e.questions.hasErrors}}))((function(e){var t=e.dispatch,n=e.loading,r=e.questions,c=e.hasErrors;Object(s.useEffect)((function(){t(R("solo"))}),[t]);return Object(x.jsxs)("div",{children:[n?Object(x.jsx)("p",{children:" Loading... "}):c?Object(x.jsx)("p",{children:" Error :( "}):Object(x.jsx)(g,{questions:r,isFavoritible:!1}),Object(x.jsx)(y,{})]})})),G=n.p+"static/media/mode_deep.04293f89.svg",W=n.p+"static/media/mode_icebreakers.a35ce8ea.svg",J=n.p+"static/media/mode_thisorthat.e728f6b4.svg",Q=n(32),D=Object(a.b)((function(e){return{loading:e.questions.loading,questions:e.questions.questions,hasErrors:e.questions.hasErrors}}))((function(e){var t=e.dispatch,n=e.loading,r=e.questions,c=e.hasErrors,a=e.mode;Object(s.useEffect)((function(){t(R(a))}),[t]);var i=function(e){Object(Q.b)(e,{position:"top",duration:1500})};return Object(x.jsxs)("div",{children:[n?Object(x.jsx)("p",{children:" Loading... "}):c?Object(x.jsx)("p",{children:" Error :( "}):Object(x.jsx)(g,{questions:m.shuffle(r),isFavoritible:!0,displayToast:i}),function(){switch(a){case"deep":return Object(x.jsx)("img",{src:G,className:"modeicon"});case"icebreakers":return Object(x.jsx)("img",{src:W,className:"modeicon"});case"this-or-that":return Object(x.jsx)("img",{src:J,className:"modeicon"});default:return null}}(),Object(x.jsx)(Q.a,{}),Object(x.jsx)(y,{})]})})),L=function(e){var t=e.favs,n=e.setPage,s=e.setMode;return Object(x.jsx)("div",{children:t.length>0?Object(x.jsx)(u.b,{to:"/game",onClick:function(){n("game"),s("favourites")},children:Object(x.jsxs)("div",{className:"profile__container profile__container--active",children:[Object(x.jsx)("h1",{children:" Favourites "}),"You have ",t.length," favourited cards."]})}):Object(x.jsxs)("div",{className:"profile__container",children:[Object(x.jsx)("h1",{children:" Favourites "}),"You have no favourited cards. Click the * icon on any card to add them to favourites!"]})})},K=function(e){var t=e.mode,n=e.setPage,r=e.setMode,c=Object(s.useState)([]),a=Object(l.a)(c,2),i=a[0],o=a[1];Object(s.useEffect)((function(){localStorage.getItem("favs")&&(o(m.readFavsFromStorage()),console.log(m.readFavsFromStorage()))}),[]);var u={display:"flex",padding:"30px 10px"},j={color:"#e5e5e5",width:"15px"},d={color:"white",fontWeight:"600",padding:"0px 50px",justifyContent:"center",flexDirection:"column",display:"flex"},b={color:"white"};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"game__profile--container",children:[Object(x.jsx)("h1",{children:" My Profile "}),Object(x.jsx)("div",{children:Object(x.jsx)(L,{favs:i,setPage:n,setMode:r})}),Object(x.jsx)("h1",{style:{color:"white"},children:" Journey "}),Object(x.jsxs)("div",{style:{color:"white",borderRadius:"10px",background:"linear-gradient(25deg, #292929, #3d3d3d)",padding:"20px 10px"},children:[Object(x.jsxs)("div",{style:u,children:[Object(x.jsx)("span",{style:d,children:" 15 July "}),Object(x.jsxs)("span",{style:b,children:[Object(x.jsx)("strong",{children:" What is your favourite building? "})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Angkor Wat, located in northwest Cambodia, is the largest religious structure (temple complex) in the world by land area, measuring 162.6 hectares."]})]}),Object(x.jsx)("hr",{style:j}),Object(x.jsxs)("div",{style:u,children:[Object(x.jsx)("span",{style:d,children:" 19 July "}),Object(x.jsxs)("span",{style:b,children:[Object(x.jsx)("strong",{children:" What is your most loved story? "})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"According to a myth, the construction of Angkor Wat was ordered by Indra to serve as a palace for his son Precha Ket Mealea. According to the 13th-century Chinese traveller Zhou Daguan, some believed that the temple was constructed in a single night by a divine architect."]})]}),Object(x.jsx)("hr",{style:j}),Object(x.jsxs)("div",{style:u,children:[Object(x.jsx)("span",{style:d,children:" 23 July "}),Object(x.jsxs)("span",{style:b,children:[Object(x.jsx)("strong",{children:" What is a fact that more people should know? "})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"As with most other ancient temples in Cambodia, Angkor Wat has faced extensive damage and deterioration by a combination of plant overgrowth, fungi, ground movements, war damage and theft. The war damage to Angkor Wat's temples however has been very limited, compared to the rest of Cambodia's temple ruins, and it has also received the most attentive restoration."]})]})]})]}),Object(x.jsx)(y,{mode:t})]})},Y=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:" About "}),Object(x.jsxs)("p",{children:[" ",Object(x.jsx)("strong",{children:" SPARK "})," is an app for creating meaningful conversations. "]}),Object(x.jsxs)("p",{children:[" This app was created for Orbital 2021.  ",Object(x.jsx)("br",{}),"Images are from ",Object(x.jsx)("a",{className:"text__link",href:"https://unsplash.com",children:"Unsplash"}),", Icons from Noun Project, Icons8, Typicons. ",Object(x.jsx)("br",{}),"Check out our ",Object(x.jsx)("a",{className:"text__link",href:"https://sparkblog.netlify.app",children:"blog"})," and Github"]}),Object(x.jsx)("h1",{children:" Privacy "}),Object(x.jsx)("p",{children:"We believe that your self-reflection is most meaningful when it is private. That\u2019s why we do not store any of your data on any server, and there is no account system. Your responses in the Solo mode are only stored in your browser."}),Object(x.jsx)("div",{className:"menu__navigation--container",children:Object(x.jsx)(_,{})})]})},B=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:" Online Game "}),Object(x.jsx)("p",{children:" Choose between (1) Random (2) Create (3) Join. "}),Object(x.jsx)("p",{children:" Coming soon "}),Object(x.jsx)(_,{})]})},z=function(){return Object(x.jsx)("div",{className:"menu__sparklogo--container",children:Object(x.jsx)("img",{src:v,className:"site__sparklogo",alt:"SPARK logo"})})},Z=function(e){var t=e.title,n=e.subtitle;return Object(x.jsxs)("div",{className:"menu__linkbutton",children:[Object(x.jsxs)("span",{className:"menu__linkbutton--title",children:[" ",t," "]})," ",Object(x.jsx)("br",{}),Object(x.jsxs)("span",{className:"menu__linkbutton--subtitle",children:[" ",n," "]})]})},H=function(e){var t=e.setPage,n=e.setMode,r=Object(s.useState)("home"),c=Object(l.a)(r,2),a=c[0],i=c[1];switch(a){case"mode":return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"menu__router--container",children:[Object(x.jsxs)(u.b,{to:"/game",onClick:function(){t("game"),n("icebreakers")},children:[" ",Object(x.jsx)(Z,{title:"Icebreakers",subtitle:"Get to know anyone!"},"Icebreakers")," "]}),Object(x.jsxs)(u.b,{to:"/game",onClick:function(){t("game"),n("deep")},children:[" ",Object(x.jsx)(Z,{title:"Deep Questions",subtitle:"Go deep!"},"Deep")," "]}),Object(x.jsxs)(u.b,{to:"/game",onClick:function(){t("game"),n("this-or-that")},children:[" ",Object(x.jsx)(Z,{title:"This or That",subtitle:"Which will you choose?"},"ThisOrThat")," "]}),Object(x.jsxs)(u.b,{to:"/picture",onClick:function(){return t("picture")},children:[" ",Object(x.jsx)(Z,{title:"Picture",subtitle:"Testing Picture API"},"Picture")," "]})]}),Object(x.jsx)("div",{className:"menu__navigation--container",children:Object(x.jsx)(_,{action:function(){return i("player")}})})]});case"player":return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"menu__router--container",children:[Object(x.jsxs)(u.b,{to:"/solo",onClick:function(){t("solo"),n("solo")},children:[" ",Object(x.jsx)(Z,{title:"Solo",subtitle:"Self journey"},"Solo")," "]}),Object(x.jsxs)(u.b,{to:"/",onClick:function(){return i("mode")},children:[" ",Object(x.jsx)(Z,{title:"Group",subtitle:"Group fun!"},"Group")," "]}),Object(x.jsxs)(u.b,{to:"/online",onClick:function(){return t("online")},children:[" ",Object(x.jsx)(Z,{title:"Online",subtitle:"Play with friends or strangers!"},"Online")," "]})]}),Object(x.jsx)("div",{className:"menu__navigation--container",children:Object(x.jsx)(_,{action:function(){return i("home")}})})]});default:return Object(x.jsxs)("div",{className:"menu__router--container",children:[Object(x.jsxs)(u.b,{to:"/",onClick:function(){return i("player")},children:[" ",Object(x.jsx)(Z,{title:"Play",subtitle:"Spark meaningful conversations"},"Play")," "]}),Object(x.jsxs)(u.b,{to:"/profile",onClick:function(){t("profile"),n("profile")},children:[" ",Object(x.jsx)(Z,{title:"Profile",subtitle:"Your profile"},"Profile")," "]}),Object(x.jsxs)(u.b,{to:"/about",onClick:function(){return t("about")},children:[" ",Object(x.jsx)(Z,{title:"About"},"About")," "]})]})}},V=function(e){var t=e.data,n=e.question||"";return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{marginBottom:"20px"},children:Object(x.jsxs)("p",{className:"card__picture--question",children:[" ",n," "]})}),0===Object.keys(t).length?null:Object(x.jsxs)("div",{className:"game__picture",children:[Object(x.jsxs)("a",{href:"".concat(t.links.html,"?utm_source=spark&utm_medium=referral"),target:"_blank",rel:"noreferrer",className:"card__picture",children:[Object(x.jsx)("img",{src:t.urls.small,alt:t.alt_description,className:"card__picture--thumb"}),Object(x.jsxs)("span",{children:[" ",Object(x.jsx)("img",{src:t.urls.regular,alt:t.alt_description,className:"card__picture--full"})," "]})]}),Object(x.jsxs)("p",{children:[" Picture by\xa0",Object(x.jsx)("a",{href:t.links.html,className:"link",children:t.user.name})," from\xa0",Object(x.jsx)("a",{href:"https://unsplash.com",className:"link",children:"Unsplash"})]})]})]})},X={getPictureFromUnsplash:function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat("/api/pictures","/random"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},$="GET_PICTURE",ee="GET_PICTURE_SUCCESS",te="GET_PICTURE_FAILURE";function ne(){return function(){var e=Object(w.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:$}),e.prev=1,e.next=4,X.getPictureFromUnsplash();case 4:n=e.sent,t({type:ee,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:te});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}var se=Object(a.b)((function(e){return{loading:e.pictures.loading,pictures:e.pictures.pictures,hasErrors:e.pictures.hasErrors}}))((function(e){var t=e.dispatch,n=e.loading,r=e.pictures,c=e.hasErrors;Object(s.useEffect)((function(){t(ne())}),[t]);return Object(x.jsxs)("div",{className:"game__picture-page",children:[Object(x.jsx)("div",{children:n?Object(x.jsx)("p",{children:" Loading... "}):c?Object(x.jsx)("p",{children:" Error :( "}):Object(x.jsx)(V,{data:r,question:"What is a memory that this picture triggers?"},r.id)}),Object(x.jsx)("div",{onClick:function(){return t(ne())},className:"game__shuffle--btn",children:Object(x.jsx)(Z,{title:"shuffle"})}),Object(x.jsx)(_,{})]})})),re=function(){var e=Object(s.useState)("home"),t=Object(l.a)(e,2),n=(t[0],t[1]),r=Object(s.useState)("none"),c=Object(l.a)(r,2),a=c[0],i=c[1],o=function(e){n(e)};return Object(x.jsx)(u.a,{children:Object(x.jsx)("div",{className:"site__container",children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/online",children:Object(x.jsx)("div",{className:"game__container",children:Object(x.jsx)(B,{})})}),Object(x.jsx)(j.a,{path:"/picture",children:Object(x.jsx)("div",{className:"game__container",children:Object(x.jsx)(se,{})})}),Object(x.jsx)(j.a,{path:"/game",children:Object(x.jsx)("div",{className:"game__container",children:Object(x.jsx)(D,{mode:a})})}),Object(x.jsx)(j.a,{path:"/solo",children:Object(x.jsx)("div",{className:"game__container",children:Object(x.jsx)(U,{})})}),Object(x.jsx)(j.a,{path:"/about",children:Object(x.jsx)("div",{className:"menu__content--container",children:Object(x.jsxs)("div",{className:"menu__content--data",children:[Object(x.jsx)(z,{}),Object(x.jsx)(Y,{})]})})}),Object(x.jsx)(j.a,{path:"/profile",children:Object(x.jsx)("div",{className:"menu__content--container",children:Object(x.jsx)("div",{className:"menu__content--data",children:Object(x.jsx)(K,{mode:a,setPage:o,setMode:i})})})}),Object(x.jsx)(j.a,{path:"/",children:Object(x.jsx)("div",{className:"menu__content--container",children:Object(x.jsxs)("div",{className:"menu__content--data",children:[Object(x.jsx)(z,{}),Object(x.jsx)(H,{setPage:o,setMode:i})]})})})]})})})},ce=n(14),ae={pictures:{},loading:!1,hasErrors:!1};var ie={questions:[],loading:!1,hasErrors:!1};var oe=Object(c.combineReducers)({pictures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(ce.a)(Object(ce.a)({},e),{},{loading:!0});case ee:return{pictures:t.payload,loading:!1,hasErrors:!1};case te:return Object(ce.a)(Object(ce.a)({},e),{},{loading:!1,hasErrors:!0});default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(ce.a)(Object(ce.a)({},e),{},{loading:!0});case P:return{questions:t.payload,loading:!1,hasErrors:!1};case T:return Object(ce.a)(Object(ce.a)({},e),{},{loading:!1,hasErrors:!0});default:return e}}}),le=Object(c.createStore)(oe,Object(o.composeWithDevTools)(Object(c.applyMiddleware)(i.a)));Object(r.render)(Object(x.jsx)(a.a,{store:le,children:Object(x.jsx)(re,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.e5f4bbae.chunk.js.map